let currentQuery = "sports"
let currentPage = 1; 

const fetchNews = async (page, q) => {
     console.log("Fetching news...");

     var url = 'https://newsapi.org/v2/everything?' +
          'q=' + q +
          '&from=2024-06-29&' +
          'pageSize= 20&' +
          'language= bn&' +
          'page=' + page +
          '&sortBy=popularity&' +
          'apiKey=92ebadaa226d4f2cbdd68c094b7ebb43';

     var req = new Request(url);

     // let a = await fetch(req)
     // let response = await a.json();
     // console.log(JSON.stringify(response));


     let response =
          { "status": "ok", "totalResults": 271, "articles": [{ "source": { "id": null, "name": "Slashdot.org" }, "author": "BeauHD", "title": "Apple Vision Pro Launches In First Countries Outside the US", "description": "After launching in the United States earlier this year, Apple's Vision Pro is now available to buy in China, Japan, and Singapore. \"The Apple Vision Pro will also roll out to Germany, France, Australia, the UK, and Canada on July 12th, with preorders for thos…", "url": "https://apple.slashdot.org/story/24/06/28/2213220/apple-vision-pro-launches-in-first-countries-outside-the-us", "urlToImage": "https://a.fsdn.com/sd/topics/apple_64.png", "publishedAt": "2024-06-29T00:45:00Z", "content": "After launching in the United States earlier this year, Apple's Vision Pro is now available to buy in China, Japan, and Singapore. \"The Apple Vision Pro will also roll out to Germany, France, Austral… [+592 chars]" }, { "source": { "id": null, "name": "ReadWrite" }, "author": "James Jones", "title": "Samsung Galaxy Buds 3: Release Date, Features, Rumours and Leaks", "description": "It’s almost two years since we were introduced to the Samsung Galaxy Buds 2, and now we’re hearing more and… Continue reading Samsung Galaxy Buds 3: Release Date, Features, Rumours and Leaks\nThe post Samsung Galaxy Buds 3: Release Date, Features, Rumours and …", "url": "https://readwrite.com/galaxy-buds-3-release-date-features-rumours-leaks/", "urlToImage": "https://readwrite.com/wp-content/uploads/2024/06/AY6AYweLKHV8TsyLcGHZXZ-970-80.jpg.webp", "publishedAt": "2024-06-29T08:19:41Z", "content": "Its almost two years since we were introduced to the Samsung Galaxy Buds 2, and now were hearing more and more about plans for the Galaxy Buds 3 and Galaxy Buds 3 Pro.\r\nTo date, Samsung has struggled… [+4508 chars]" }, { "source": { "id": null, "name": "Frandroid" }, "author": "Ulrich Rozier", "title": "Apple Intelligence bloqué en France : l’Europe crie au scandale", "description": "L'Union européenne ne mâche pas ses mots face à Apple. La décision du géant américain de ne pas lancer son IA en Europe provoque l'ire de Bruxelles. Margrethe Vestager, commissaire à la Concurrence, accuse ouvertement Apple de comportement anticoncurrentiel. …", "url": "https://www.frandroid.com/culture-tech/intelligence-artificielle/2063782_apple-intelligence-bloque-en-europe-lue-crie-au-scandale", "urlToImage": "https://images.frandroid.com/wp-content/uploads/2024/06/ue-scaled.jpg", "publishedAt": "2024-06-29T08:29:00Z", "content": "L'Union européenne ne mâche pas ses mots face à Apple. La décision du géant américain de ne pas lancer son IA en Europe provoque l'ire de Bruxelles. Margrethe Vestager, commissaire à la Concurrence, … [+3387 chars]" }, { "source": { "id": null, "name": "Xataka.com" }, "author": "Rubén Andrés", "title": "Las Big Tech gastan fortunas en la seguridad de sus CEO: Meta supera los 10 millones y Musk se protege a sí mismo", "description": "Las grandes tecnológicas están alcanzando tal poder económico que, algunas de ellas, gestionan en su operativa presupuestos anuales que superan al PIB de pequeños países como Andorra, Mónaco o Luxemburgo. Por lo que sus consejeros delegados han adquirido una …", "url": "https://www.xataka.com/empresas-y-economia/big-tech-gastan-fortunas-seguridad-sus-ceo-meta-supera-10-millones-musk-se-protege-a", "urlToImage": "https://i.blogs.es/4f12a6/ceos/840_560.jpeg", "publishedAt": "2024-06-29T09:00:58Z", "content": "Las grandes tecnológicas están alcanzando tal poder económico que, algunas de ellas, gestionan en su operativa presupuestos anuales que superan al PIB de pequeños países como Andorra, Mónaco o Luxemb… [+9444 chars]" }, { "source": { "id": null, "name": "Ifanr.com" }, "author": "何晓涵", "title": "早报|新 iPhone 电池或更易更换/华为 Pura 70 推出北斗卫星消息版/小米 SU7 本月交付量破万", "description": "· 百度：近八成考生用 AI 填报志愿\n· Google 发布 Gemma 2 大模型\n· 东方甄选主播在直播间公开表达对公司不满#欢迎关注爱范儿官方微信公众号：爱范儿（微信号：ifanr），更多精彩内容第一时间为您奉上。\n爱范儿 |\n原文链接 ·\n查看评论 ·\n新浪微博", "url": "https://www.ifanr.com/1590818", "urlToImage": "https://s3.ifanr.com/images/ep/cover-images/shan_mai_hai_yang_cover.jpg", "publishedAt": "2024-06-29T01:00:25Z", "content": "Vision Pro App \r\nApple Apple Vision Pro app Apple \r\nApple \r\n·\r\n·Alicia Keys Alicia Keys \r\n·\r\n·\r\nApple app app \r\n Vision Pro Vision Pro \r\nOpenAI CriticGPT GPT-4 \r\nOpenAI GPT-4 CriticGPT \r\n ChatGPT Cri… [+1071 chars]" }, { "source": { "id": null, "name": "Lifehacker.ru" }, "author": "Дарья Бакина", "title": "Подкаст Лайфхакера: как пережить сессию, если у вас сезонная аллергия", "description": "Собрали эффективные советы для тех, кто устал от проявлений сезонной аллергии: зуда, чихания и забитого носа.", "url": "https://lifehacker.ru/kak-perezhit-sessiyu-esli-sezonnay-allergiya/", "urlToImage": "https://cdn.lifehacker.ru/wp-content/uploads/2024/06/Untitled_1719588919.png", "publishedAt": "2024-06-29T08:00:00Z", "content": ", , .\r\n « » , : Apple Podcasts, YouTube, «», «», «», Castbox, Pocket CastsSoundStream.\r\n ." }, { "source": { "id": null, "name": "Applesfera.com" }, "author": "Guille Lomener", "title": "FreeOffice 2024, la mejor alternativa a Microsoft Office para Mac es gratis y tiene un diseño que te resultará muy familiar", "description": "Microsoft Office es el rey de las aplicaciones de ofimática. Con sus tres principales programas, Word, Excel y PowerPoint, dominan por completo todas las oficinas y empresas. Es por ello que, normalmente, en casa queremos seguir teniendo estas aplicaciones pa…", "url": "https://www.applesfera.com/aplicaciones-os-x-1/freeoffice-2024-mejor-alternativa-gratuita-a-microsoft-office-para-mac", "urlToImage": "https://i.blogs.es/51c87d/freeoccide/840_560.jpeg", "publishedAt": "2024-06-29T09:00:58Z", "content": "Microsoft Office es el rey de las aplicaciones de ofimática. Con sus tres principales programas, Word, Excel y PowerPoint, dominan por completo todas las oficinas y empresas. Es por ello que, normalm… [+3570 chars]" }, { "source": { "id": null, "name": "Android Central" }, "author": "harish.jonnalagadda@futurenet.com (Harish Jonnalagadda)", "title": "I used a dozen iPhone 15 Pro Max cases — these are my favorites", "description": "I don't use cases with most of my phones, but that's different with the iPhone 15 Pro Max. I got over a dozen cases to use with the phone, and these are my favorites.", "url": "https://www.androidcentral.com/accessories/i-used-a-dozen-iphone-15-pro-max-cases-these-are-my-favorites", "urlToImage": "https://cdn.mos.cms.futurecdn.net/ff6NqjjSDps4MGFuLok5eE-1200-80.jpg", "publishedAt": "2024-06-29T07:29:06Z", "content": "I don't normally use cases with my phones; I just don't like the way they feel, and even thin cases tend to add weight and bulk to a device. Given that I switch phones every two weeks on average, it … [+7584 chars]" }, { "source": { "id": null, "name": "Iphoneitalia.com" }, "author": "Giuseppe Migliorino", "title": "“Fancy Dance” e “Tierra de mujeres” arrivano su Apple TV+", "description": "Su Apple TV+ sono disponibili due nuovi titoli. \nLink all'articolo originale: “Fancy Dance” e “Tierra de mujeres” arrivano su Apple TV+", "url": "https://www.iphoneitalia.com/827779/fancy-dance-e-tierra-de-mujeres-arrivano-su-apple-tv", "urlToImage": "https://static.iphoneitalia.com/wp-content/uploads/2024/05/Fancy-Dance.jpg", "publishedAt": "2024-06-29T09:16:13Z", "content": "Su Apple TV+ arrivano il film Fancy Dance e la serie “Tierra de mujeres – Intrecci di vite”. Ecco tutti i dettagli.\r\nFancy Dance\r\nFancy Dance presenta un ruolo drammatico ed emozionante per la candid… [+2037 chars]" }, { "source": { "id": null, "name": "Nextpit.de" }, "author": "Edwin Kee", "title": "Für begrenzte Zeit: Diese iOS- und Android-Apps sind aktuell kostenlos", "description": "Hier sind Apps, die diese Woche im Google Play Store und Apple App Store kostenlos angeboten werden. Werft einen Blick auf die Liste.", "url": "https://www.nextpit.de/kostenlose-apps-2024-02-26", "urlToImage": "https://fscl01.fonpit.de/userfiles/7687254/image/NextPit_Apps.jpg", "publishedAt": "2024-06-29T08:00:00Z", "content": "Nun, es sieht so aus, als wären wir an einem weiteren Wochenende angekommen, und für diejenigen, die die Euro 2024 nicht verfolgen, könnte es sein, dass ihr mehr Zeit mit Eurem Smartphone verbringen … [+6689 chars]" }, { "source": { "id": null, "name": "Yanko Design" }, "author": "Sarang Sheth", "title": "This All-in-one Universal Remote lets you control your entire Smart Home without Alexa, Google, or Siri", "description": "This All-in-one Universal Remote lets you control your entire Smart Home without Alexa, Google, or SiriIsn’t it funny that somehow we went from universal remotes in the early 2000s to suddenly having these complicated hubs to connect all the devices...", "url": "https://www.yankodesign.com/2024/06/28/this-all-in-one-universal-remote-lets-you-control-your-entire-smart-home-without-alexa-google-or-siri/", "urlToImage": "https://www.yankodesign.com/images/design_news/2024/06/this-all-in-one-universal-remote-can-control-your-entire-smart-home-from-tv-and-speakers-to-lights/haptique_rs90_universal_smart_remote_1.jpg", "publishedAt": "2024-06-29T01:45:35Z", "content": "Isn’t it funny that somehow we went from universal remotes in the early 2000s to suddenly having these complicated hubs to connect all the devices in our smart homes? I won’t lie but talking to a hub… [+5786 chars]" }, { "source": { "id": null, "name": "Presse-citron" }, "author": "Presse-citron", "title": "Meilleurs smartphones premium : comparatif et différences (édition 2024)", "description": "Vous hésitez lors du choix de votre smartphone premium ? Ce guide comparatif met en valeur les principales différences entre les meilleurs modèles de 2024. Photos à l'appui.", "url": "https://www.presse-citron.net/meilleurs-smartphones-premium-comparatif-differences/", "urlToImage": "https://www.presse-citron.net/app/uploads/2024/06/oneplus-12-ecran.webp", "publishedAt": "2024-06-29T08:01:03Z", "content": "Choisir son smartphone premium n’est pas toujours chose aisée, notamment côté prix où la barre est souvent placée très haut. Mais en cherchant bien, chez Android notamment, des mobiles haut de gamme … [+12581 chars]" }, { "source": { "id": null, "name": "Macitynet.it" }, "author": "Mauro Notarianni", "title": "Apple Intelligence è anticoncorrenziale", "description": "Per Margrethe Vestager, vicepresidente dell'Unione e regolatore della concorrenza, la decisione di non offrire Apple Intelligence nei paesi dell'Unione Europea è una \"sorprendente dichiarazione aperta\" di comportamento anticoncorrenziale.\n- su macitynet.it Ap…", "url": "https://www.macitynet.it/apple-intelligence-non-disponibile-in-europa-per-margrethe-vestager-e-scelta-anticoncorrenziale/", "urlToImage": "https://www.macitynet.it/wp-content/uploads/2024/06/MargretheVestager.jpg", "publishedAt": "2024-06-29T09:14:31Z", "content": "Apple ha fatto sapere che le funzionalità di Intelligenza Artificiale (Apple Intelligence) e alcune altre novità (incluso l’iPhone mirroring con macOS Sequoia) presentate nell’ambito della WWDC24 (co… [+2378 chars]" }, { "source": { "id": null, "name": "Caschys Blog" }, "author": "André Westphal", "title": "Wearables: Markt für Smartwatches und Fitness-Armbänder wächst 2024 voraussichtlich", "description": "Die Marktforscher von Canalys haben sich einmal das Segment für Wearables bzw. speziell Smartwatches und Fitness-Armbänder angeschaut. Demnach rechnet man für das Gesamtjahr damit, dass dieser Bereich um 5 % wachsen könnte, wenn es um die Auslieferungsmengen …", "url": "https://stadt-bremerhaven.de/wearables-markt-fuer-smartwatches-und-fitness-armbaender-waechst-2024-voraussichtlich/", "urlToImage": "https://stadt-bremerhaven.de/wp-content/uploads/2024/05/Galaxy-Watch-AI.jpg", "publishedAt": "2024-06-29T04:30:36Z", "content": "Die Marktforscher von Canalys haben sich einmal das Segment für Wearables bzw. speziell Smartwatches und Fitness-Armbänder angeschaut. Demnach rechnet man für das Gesamtjahr damit, dass dieser Bereic… [+2954 chars]" }, { "source": { "id": null, "name": "Hdblog.it" }, "author": "HDblog.it", "title": "Apple Vision Pro, è cominciato il lancio sul mercato internazionale", "description": "Apple Vision Pro non è più un'esclusiva del mercato USA, e presto arriverà anche in Europa. Ma non in Italia.", "url": "https://www.hdblog.it/apple/articoli/n586485/apple-vision-pro-lancio-globale-asia-europa-italia/", "urlToImage": "https://hd2.tudocdn.net/1108897?w=1920", "publishedAt": "2024-06-29T09:45:00Z", "content": "Da ieri, venerdì 27 giugno, Apple Vision Pro non è più un'esclusiva degli Stati Uniti. Il computer spaziale di Apple, infatti, sbarca siul mercato globale ed è ora disponibile anche in Cina, ad Hong … [+2144 chars]" }, { "source": { "id": null, "name": "Macsparky.com" }, "author": "David Sparks", "title": "Apple Mail and Flags", "description": "For years now I’ve had a secret struggle with flag count in Apple Mail. Every year we get a new set of betas and every year I try again, hoping that I can reliably use flags in Apple Mail. However, before long, the count always gets off. What I mean is I may …", "url": "https://www.macsparky.com/blog/2024/06/apple-mail-and-flags/", "urlToImage": "https://www.macsparky.com/wp-content/uploads/2024/06/Mail-300x300.png", "publishedAt": "2024-06-29T00:00:56Z", "content": "For years now I’ve had a secret struggle with flag count in Apple Mail. Every year we get a new set of betas and every year I try again, hoping that I can reliably use flags in Apple Mail. However, b… [+730 chars]" }, { "source": { "id": null, "name": "Touch Arcade" }, "author": "Jared Nelson", "title": "We Stained the Hotel Sink Red – The TouchArcade Show #596", "description": "In this week's episode of The TouchArcade Show, we dive right into our countdown to episode 600 with a recap of our 200th episode, which involved Eli and I going to Las Vegas for a Bandai Namco press event on the eve of pre-orders opening for the original App…", "url": "https://toucharcade.com/2024/06/28/we-stained-the-hotel-sink-red-the-toucharcade-show-596/", "urlToImage": null, "publishedAt": "2024-06-29T01:44:24Z", "content": "In this week’s episode of The TouchArcade Show, we dive right into our countdown to episode 600 with a recap of our 200th episode, which involved Eli and I going to Las Vegas for a Bandai Namco press… [+1230 chars]" }, { "source": { "id": null, "name": "Ifanr.com" }, "author": "张成晨", "title": "前苹果员工推出的 AI 聊天应用，为什么能被 OpenAI 看好", "description": "「活」的日记，个人的编年史#欢迎关注爱范儿官方微信公众号：爱范儿（微信号：ifanr），更多精彩内容第一时间为您奉上。\n爱范儿 |\n原文链接 ·\n查看评论 ·\n新浪微博", "url": "https://www.ifanr.com/1590750", "urlToImage": "https://s3.ifanr.com/wp-content/uploads/2024/06/dot111.jpg", "publishedAt": "2024-06-29T04:26:06Z", "content": "connecting the dots\r\ndots dots dots \r\n Jason Yuan AI \r\napp Dot OpenAI 2024 AI \r\nDot iOS 2023 9 App Store\r\nDot logo Dot\r\nDot share with Dot… Dot …\r\n Dot e\r\nDot \r\nDot\r\n i \r\nDot 10 Dot app \r\nDot Dot App… [+551 chars]" }, { "source": { "id": "techradar", "name": "TechRadar" }, "author": "alexblake.techradar@gmail.com (Alex Blake)", "title": "MacBooks in 2024: the big launches we've seen so far and what's coming next", "description": "Here’s every MacBook that has been announced in 2024 – plus all the other models we're expecting to see this year.", "url": "https://www.techradar.com/computing/macbooks-in-2024-the-big-launches-weve-seen-so-far-and-whats-coming-next", "urlToImage": "https://cdn.mos.cms.futurecdn.net/nsyAwPAXdH8vFXX4aC3mnZ-1200-80.jpg", "publishedAt": "2024-06-29T07:00:00Z", "content": "We're now almost exactly halfway through 2024 – and rather than look back at the charred remains of our new year's resolutions, we'd prefer to review what's happened in the world of Apple's MacBooks.… [+5855 chars]" }, { "source": { "id": null, "name": "Journal du geek" }, "author": "Thomas Estimbre", "title": "Oubliez les smartphones étanches IP68, voici un modèle « IP69 »", "description": "Les smartphones grand public certifiés IP68 sont de plus en plus nombreux. Un constructeur chinois s'apprête en franchir un nouveau cap en proposant un modèle avec un indice IP69.", "url": "https://www.journaldugeek.com/2024/06/29/oubliez-les-smartphones-etanches-ip68-voici-un-modele-ip69/", "urlToImage": "https://www.journaldugeek.com/app/uploads/2024/06/realme-gt-6.jpg", "publishedAt": "2024-06-29T06:03:24Z", "content": "Sans se diriger vers les appareils durcis, les consommateurs sont à la recherche de smartphones robustes. Les indices de protection, souvent notés IP (pour Ingress Protection) sont là pour rassurer q… [+3368 chars]" }] }

     console.log(response)

     let str = ""
     resultCount.innerHTML = response.totalResults;
     for (let item of response.articles) {
          str = str + ` <div class="card shadow mx-2 my-4 pt-4 " style="width: 22.5rem;">
      <img src="${item.urlToImage}" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title ">${item.title}</h5>
        <p class="card-text">${item.description}</p>
        <a href="${item.url}" target="_blank" class="btn btn-success">Read More</a>
      </div>
    </div>`
     }
     document.querySelector(".content").innerHTML = str;
}
fetchNews(1, currentQuery)

const search = document.querySelector("#search");
const searchInput = document.querySelector("#searchInput");

search.addEventListener("click", (e) => {
     e.preventDefault();
     let query = searchInput.value;
     currentQuery = query;
     fetchNews(1, query)
})

prev.addEventListener("click", (e) => {
     e.preventDefault();
     if(currentPage>1){
     currentPage = currentPage -1;
     fetchNews(currentPage, currentQuery)
     }
})

next.addEventListener("click", (e) => {
     e.preventDefault();
     currentPage = currentPage + 1;
     fetchNews(currentPage, query)
})

